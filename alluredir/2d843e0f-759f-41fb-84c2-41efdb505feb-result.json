{"name": "Тест проверки успешного обновления информации о питомце", "status": "failed", "statusDetails": {"message": "AssertionError: Expected status code 200,got 405", "trace": "petstore_client_v2 = <src.api_clients.petstore.client.PetStoreAPIClient object at 0x000001561A8897C0>, create_pet = {'id': 99, 'name': 'Jennifer Ward', 'photoUrls': [], 'status': 'available', ...}\n\n    def test_success_update_pet(petstore_client_v2, create_pet):\n        allure.dynamic.title(\"Тест проверки успешного обновления информации о питомце\")\n        update_pet_data = {\n            \"id\": create_pet[\"id\"],\n            \"name\": create_pet[\"name\"],\n            \"photoUrls\": [faker.url()]\n        }\n    \n>       pet = petstore_client_v2.update_pet(pet_id=create_pet[\"id\"], pet_data=update_pet_data,\n                                            expected_status_code=200)\n\ntests\\petstore\\test_update_pet.py:14: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nsrc\\api_clients\\petstore\\client.py:26: in update_pet\n    response = self.put(path=f\"{Route.PET}/{pet_id}\", json=pet_data, expected_status_code=expected_status_code)\nsrc\\base_clients\\http_client\\client.py:29: in put\n    response = self._send_request(path=path, method=\"put\", json=json, expected_status_code=expected_status_code)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <src.api_clients.petstore.client.PetStoreAPIClient object at 0x000001561A8897C0>, path = 'pet/99', method = 'put', expected_status_code = 200\nkwargs = {'json': {'id': 99, 'name': 'Jennifer Ward', 'photoUrls': ['https://www.grant-williams.info/']}}, url = 'https://petstore.swagger.io/v2/pet/99', response = <Response [405]>\n\n    def _send_request(self, path: str, method: str, expected_status_code: Optional[int] = None,\n                      **kwargs) -> requests.Response:\n        print(f\"base url: {self._base_url}\")\n        url = f\"{self._base_url}/{path}\"\n        print(\"url: \", url)\n        with allure.step(f\"Send {method.upper()} to {url}\"):\n            response = requests.request(method=method, url=url, **kwargs)\n            allure.attach(response.text, name=\"Response\", attachment_type=allure.attachment_type.TEXT)\n    \n        with allure.step(\"Check status code\"):\n            if expected_status_code:\n>               assert response.status_code == expected_status_code, (f\"Expected status code {expected_status_code},\"\n                                                                      f\"got {response.status_code}\")\nE               AssertionError: Expected status code 200,got 405\n\nsrc\\base_clients\\http_client\\client.py:43: AssertionError"}, "steps": [{"name": "Send PUT to https://petstore.swagger.io/v2/pet/99", "status": "passed", "attachments": [{"name": "Response", "source": "3c4bc245-a5bf-4399-8071-0492d7b182f9-attachment.txt", "type": "text/plain"}], "start": 1729613263822, "stop": 1729613264615}, {"name": "Check status code", "status": "failed", "statusDetails": {"message": "AssertionError: Expected status code 200,got 405\n", "trace": "  File \"C:\\Users\\Kham2\\Desktop\\project\\petstore\\src\\base_clients\\http_client\\client.py\", line 43, in _send_request\n    assert response.status_code == expected_status_code, (f\"Expected status code {expected_status_code},\"\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n"}, "start": 1729613264616, "stop": 1729613264616}], "start": 1729613263821, "stop": 1729613264616, "uuid": "6dcc6ba7-1258-4edb-8a6f-19ad1c5414ec", "historyId": "8e487242c77ccc8a82f7e56de665e3b8", "testCaseId": "8e487242c77ccc8a82f7e56de665e3b8", "fullName": "tests.petstore.test_update_pet#test_success_update_pet", "labels": [{"name": "parentSuite", "value": "tests.petstore"}, {"name": "suite", "value": "test_update_pet"}, {"name": "host", "value": "Amir"}, {"name": "thread", "value": "18220-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "tests.petstore.test_update_pet"}]}